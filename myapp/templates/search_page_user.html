{% extends "user_base.html" %}
{% load static %}
  
  {% block title %}Criminal Identification System{% endblock %}

  {% block head %}
  <link href='https://unpkg.com/boxicons@2.0.9/css/boxicons.min.css' rel='stylesheet'>
    <style>
        .modal-sp{
        width: 80%; 
        height: 70%;
        }
        .dataTables_paginate span
        {
        padding: 50px;
        }
        .box-info {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
        grid-gap: 24px;
        margin-top: 36px;
        }
        .box-info li {
            padding: 24px;
            background: var(--light);
            border-radius: 20px;
            display: flex;
            align-items: center;
            grid-gap: 24px;
        }
        .box-info li .bx {
            width: 80px;
            height: 80px;
            border-radius: 10px;
            font-size: 36px;
            display: flex;
            justify-content: center;
            align-items: center;
        }
    </style>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
  {% endblock %}

    {% block ProfilerType %}User{% endblock %}
    {% block Pagetitle %}Filter Search{% endblock %}

    {% block sidebar_item2 %}New FIR{% endblock %}
    {% block sidebar_item3 %}Application Request{% endblock %}
    {% block sidebar_item4 %}Live Chat{% endblock %}

    {% block sidevar_1 %} 
        {% url 'UserHomePage' user.id %} 
    {% endblock %}
    {% block sidevar_2 %}
          {% url 'UseComplainPage1' user.id 0%}
    {% endblock %}
    {% block UserDetails %}
    <img src="{% if user.profile_image %}{{ user.profile_image.url }}{% else %}{% static 'img/Comoon_People.webp' %}{% endif %}" alt="" style="width: 50px; border-radius: 100%;">
    <span class="d-sm-inline d-none">{{ user.name }}</span>
    <input type="text" id="the_logged_in_user" value="{{ user.id }}" style="display: none;">
    {% endblock %}


    {% block content %}
    <div class="row">
        <div class="col-md-12 " id="mymainContent">
            <div class="row">
                <div class="col-md-12">
                    <div class="card">
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-12">
                                    <h2>Advanced Search</h2>
                                </div>
                                <div class="col-md-12">
                                    <!-- // write here -->
                                    <div class="row">
                                        <div class="col-md-7">
                                            <div class="row" id = "type_box">
                                                <input type="text" class="form-control" placeholder="Enter Search Terms"  id="searchTerms">
                                            </div>
                                            <div class="row" id="date_box" style="display: none;">
                                                <div class="col-md-5"><label for="">From: </label><input type="date" id="from_date" style="margin: 15px;"></div>
                                                <div class="col-md-5"><label for="">To: </label><input type="date" id="to_date" style="margin: 15px;"></div>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <select class="form-select form-select-sm" aria-label=".form-select-sm example"
                                                style="font-size: medium; height: 40px;"name="Select_Search_Field" id="Select_Search_Field">
                                                <option value="" selected>Any Field</option>
                                                <option value="firnumber">FIR number</option>
                                                <option value="victimName">Victim Name</option>
                                                <option value="submissiondate">Submission Date</option>
                                                <option value="occurancedate">Occurance Date</option>
                                                <option value="crimeType">Crime Type</option>
                                            </select>
                                        </div>
                                        <div class="col-md-2">
                                            <button type="submit" id="addRow" style="height: 40px;" class="form-control btn btn-outline-secondary">Add Row</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    {% endblock %}

    {% block Scripts %}
    <script>
        $(document).ready(function () {
            // Handle dropdown change event
            $("#Select_Search_Field").change(function () {
                var selectedValue = $(this).val();
                if (selectedValue === "submissiondate" || selectedValue === "occurancedate") {
                $("#type_box").hide();
                $("#date_box").show();
                } else {
                    $("#type_box").show();
                    $("#date_box").hide();
                }
                if (selectedValue !== "") {
                $("#searchTerms").val(selectedValue + ": ");
                }
            });
    
            // Handle input field change event
            $("#searchTerms").on("input", function () {
                var selectedValue = $("#Select_Search_Field").val();
                var currentText = $(this).val();
    
                if (selectedValue !== "")
                    $("#searchTerms").val(selectedValue + " " + currentText);
            });
        });
    </script>
    {% endblock %}

